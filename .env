# =====================================================
# LAZERVAULT FLUTTER APP - DEVELOPMENT CONFIGURATION
# =====================================================
# This file is loaded on EMULATORS only.
# For physical devices, .env.prod is used instead.
# =====================================================

# ========== ENVIRONMENT ==========
ENVIRONMENT=development

LIVEKIT_URL=wss://lazervault-sgb9bwog.livekit.cloud

# ========== CHAT AGENT GATEWAY (Enhanced) ==========
# Enhanced Gateway with LLM-based intent classification and conversation state management
# Port 3011 - Supports both general and service-specific chat
# Features: Intent classification, conversation memory, service switching detection
CHAT_GATEWAY_URL=http://10.0.2.2:3011

# ========== VERIFICATION SERVICES (Routed through Chat Gateway) ==========
# All verification services use the Chat Agent Gateway (Port 3011)
# This includes KYC, Document Extraction, and Voice Biometrics
API_BASE_URL=http://10.0.2.2:3011
KYC_API_URL=http://10.0.2.2:3011
KYC_API_KEY=your-kyc-api-key-here
DOCUMENT_EXTRACTION_API_URL=http://10.0.2.2:3011
DOCUMENT_EXTRACTION_API_KEY=your-doc-extraction-api-key-here

# ========== ACTUAL GATEWAY ARCHITECTURE ==========
# Each gateway runs dual servers (HTTP + gRPC):
# Core Gateway: HTTP 7878, gRPC 50070 (Auth, Accounts)
# Financial Gateway: HTTP 8080, gRPC 50071 (Payments, Bills, Invoices, Products, GiftCards)
# Investment Gateway: HTTP 9090, gRPC 50072 (Stocks, Crypto, Portfolio)

# ========== FOR ANDROID EMULATOR ==========
# Use 10.0.2.2 to access host machine from Android emulator
HTTP_API_HOST=http://10.0.2.2:7878
GRPC_API_HOST=10.0.2.2
GRPC_API_PORT=50070

# For iOS Simulator / macOS, change to:
# HTTP_API_HOST=http://127.0.0.1:7878
# GRPC_API_HOST=127.0.0.1

# ========== ROUTING STRATEGY ==========
ROUTING_STRATEGY=gateway

# ========== CORE GATEWAY (gRPC Port 50070, HTTP Port 7878) ==========
# Auth & Accounts services
AUTH_GRPC_HOST=10.0.2.2
AUTH_GRPC_PORT=50070
ACCOUNTS_GRPC_HOST=10.0.2.2
ACCOUNTS_GRPC_PORT=50070
CARDS_GRPC_HOST=10.0.2.2
CARDS_GRPC_PORT=50070

# ========== FINANCIAL GATEWAY (gRPC Port 50071, HTTP Port 8080) ==========
# Payments, Bills, Products, GiftCards, Invoices
PAYMENT_GRPC_HOST=10.0.2.2
PAYMENT_GRPC_PORT=50071
BILLS_GRPC_HOST=10.0.2.2
BILLS_GRPC_PORT=50071
INVOICE_GRPC_HOST=10.0.2.2
INVOICE_GRPC_PORT=50071
FINANCIAL_PRODUCTS_GRPC_HOST=10.0.2.2
FINANCIAL_PRODUCTS_GRPC_PORT=50071
GIFTCARDS_GRPC_HOST=10.0.2.2
GIFTCARDS_GRPC_PORT=50071

# ========== INVESTMENT GATEWAY (gRPC Port 50072, HTTP Port 9090) ==========
# Stocks, Crypto, Portfolio
INVESTMENTS_GRPC_HOST=10.0.2.2
INVESTMENTS_GRPC_PORT=50072
STOCKS_GRPC_HOST=10.0.2.2
STOCKS_GRPC_PORT=50072
STOCKS_API_URL=http://10.0.2.2:9090/api/v1
USE_STOCKS_GRPC=true

# ========== VOICE SERVICES ==========
VOICE_GRPC_HOST=10.0.2.2
VOICE_GRPC_PORT=50070

# ========== GATEWAY INFO ==========
# Core Gateway:
#   - HTTP: http://10.0.2.2:7878
#   - gRPC: 10.0.2.2:50070
#   - Health: http://127.0.0.1:7878/health
#   - Services: Auth, Accounts, Cards, Voice
#
# Financial Gateway:
#   - HTTP: http://10.0.2.2:8080
#   - gRPC: 10.0.2.2:50071
#   - Health: http://127.0.0.1:8080/health
#   - Services: Payments, Bills, Invoices, Products, GiftCards
#
# Investment Gateway:
#   - HTTP: http://10.0.2.2:9090
#   - gRPC: 10.0.2.2:50072
#   - Health: http://127.0.0.1:9090/health
#   - Services: Stocks, Crypto, Portfolio
#
# Health Checks:
#   curl http://127.0.0.1:7878/health
#   curl http://127.0.0.1:8080/health
#   curl http://127.0.0.1:9090/health
#
# Start Services:
#   cd services && ./START_ALL_GATEWAYS.sh
#   cd services && ./STOP_ALL_GATEWAYS.sh
#   ./check-services.sh

# ========== TRANSFER GATEWAY (gRPC Port 50076) ==========
# Payments and transfers routing
TRANSFER_GRPC_HOST=10.0.2.2
TRANSFER_GRPC_PORT=50076

# ========== BANKING GATEWAY (gRPC Port 50077) ==========
# Banking operations via gateway (virtual accounts, bank verification, internal transfers)
BANKING_GRPC_HOST=10.0.2.2
BANKING_GRPC_PORT=50077
BANKING_GATEWAY_GRPC_HOST=10.0.2.2
BANKING_GATEWAY_GRPC_PORT=50077
BANKING_API_URL=http://10.0.2.2:8073/api/v1

# ========== PRODUCTS GATEWAY (gRPC Port 50078) ==========
# Group accounts, autosave, crowdfund
PRODUCTS_GRPC_HOST=10.0.2.2
PRODUCTS_GRPC_PORT=50078

# ========== WEBSOCKET SERVICES ==========
# Real-time balance updates via WebSocket (commerce-gateway)
WS_BALANCE_HOST=10.0.2.2
WS_BALANCE_PORT=8095

# Transfer status WebSocket (transfer-gateway HTTP port)
TRANSFER_WS_HOST=10.0.2.2
TRANSFER_WS_PORT=8084

# Banking status WebSocket (banking-gateway HTTP port)
BANKING_WS_HOST=10.0.2.2
BANKING_WS_PORT=8082

# Products status WebSocket (products-gateway HTTP port)
PRODUCTS_WS_HOST=10.0.2.2
PRODUCTS_WS_PORT=8083

# ========== FLUTTERWAVE CONFIGURATION (V3 API) ==========
# Public key for client-side SDK initialization
FLUTTERWAVE_PUBLIC_KEY=FLWPUBK_TEST-1c8410c2a68d45c05fc04e4d580bfbae-X
FLUTTERWAVE_ENCRYPTION_KEY=FLWSECK_TEST541f528d0e43

# ========== MONO CONFIGURATION (Open Banking) ==========
# Public key for Mono Connect widget (account linking, direct debit)
#
# ENVIRONMENT MODES:
# - test_pk_xxx → Sandbox mode (free API calls, use test credentials)
# - live_pk_xxx → Live mode (real transactions, business approval needed)
#
# Get from: https://app.withmono.com → Settings → API Keys
#
# SANDBOX TEST CREDENTIALS (when using test_pk_ keys):
# - Username: user_good
# - Password: 123456
# - PIN: 1234
# - OTP: 123456
# - Security Answer: lagos
#
MONO_PUBLIC_KEY=test_pk_c76z5qrkt4mogs713d1r
# NOTE: MONO_SECRET_KEY is stored server-side only (banking-service/.env)
# Never expose secret keys in client-side code!

# ========== PAYSTACK CONFIGURATION ==========
# Test keys for Paystack (bank account verification, transfers)
# Public key for client-side operations (if needed)
PAYSTACK_PUBLIC_KEY=pk_test_6eb3f3a9283b409f7aeb4b3974ded84461c2b8b5
# Secret key is used server-side in core-payments-service

# ========== DEPOSIT SIMULATION (Testing) ==========
# Enable deposit simulation for development/testing
# When enabled, Pay by Transfer card will show a "Simulate Deposit" button
DEPOSIT_SIMULATION_ENABLED=true
WEBHOOK_GATEWAY_NGROK_URL=https://jo-totipalmate-unsolvably.ngrok-free.dev
